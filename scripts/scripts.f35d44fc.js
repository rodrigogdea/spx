var formulas=[{id:1,codigo:"Formula33",descripcion:"Formula 33",fases:[{descripcion:"Fase 1",tipoFase:"TipoFase1"},{descripcion:"Fase 2",tipoFase:"TipoFase2"}]},{id:2,codigo:"Formula34",descripcion:"Formula 34",fases:[{descripcion:"Fase 1",tipoFase:"TipoFase1"},{descripcion:"Fase 2",tipoFase:"TipoFase2"}]},{id:3,codigo:"Formula35",descripcion:"Formula 35",fases:[{descripcion:"Fase 1",tipoFase:"TipoFase1"},{descripcion:"Fase 2",tipoFase:"TipoFase2"}]},{id:3,codigo:"Formula36",descripcion:"Formula 33",fases:[{descripcion:"Fase 1",tipoFase:"TipoFase1"},{descripcion:"Fase 2",tipoFase:"TipoFase2"}]}],fases=[{descripcion:"Fase 1",tipoFase:"TipoFase1"},{descripcion:"Fase 2",tipoFase:"TipoFase2"}],ordenes=[{formula:{codigo:"Formula33"},lote:"Lote1",estado:"En progreso...",fecha:new Date("2015-02-12")},{formula:{codigo:"Formula34"},lote:"Lote23",estado:"En progreso...",fecha:new Date("2014-04-14")},{formula:{codigo:"Formula34"},lote:"Lote14",estado:"En progreso...",fecha:new Date("2013-02-12")},{formula:{codigo:"Formula35"},lote:"Lote661",estado:"En progreso...",fecha:new Date("2014-02-12")}];angular.module("spxApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngDialog"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/formulas",{templateUrl:"views/formulas/formulasList.html",controller:"FormulasListCtrl"}).when("/formulas/edit/:id",{templateUrl:"views/formulas/formulasEdit.html",controller:"FormulasEditCtrl"}).when("/formulas/new",{templateUrl:"views/formulas/formulasEdit.html",controller:"FormulasEditCtrl"}).when("/fases",{templateUrl:"views/fases/fasesList.html",controller:"FasesListCtrl"}).when("/fases/edit/:id",{templateUrl:"views/fases/fasesEdit.html",controller:"FasesEditCtrl"}).when("/fases/new",{templateUrl:"views/fases/fasesEdit.html",controller:"FasesEditCtrl"}).when("/ordenes",{templateUrl:"views/ordenes/ordenesList.html",controller:"OrdenesListCtrl"}).when("/ordenes/edit/:id",{templateUrl:"views/ordenes/ordenesEdit.html",controller:"OrdenesEditCtrl"}).when("/ordenes/new",{templateUrl:"views/ordenes/ordenesEdit.html",controller:"OrdenesEditCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("spxApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("spxApp").controller("FormulasListCtrl",["$scope",function(a){a.formulas=formulas,a.remove=function(a){formulas.splice(a,1)}}]),angular.module("spxApp").controller("FormulasEditCtrl",["$scope","$routeParams","ngDialog",function(a,b,c){a.fases=fases,b.id?a.formula=formulas[b.id]:a.formula={},a.update=function(c){b.id||formulas.push(a.formula)},a.removeFase=function(b){a.formula.fases.splice(b,1)},a.openAddFase=function(){a.selectedFase=null,c.open({template:"addFaseDialog",scope:a})},a.selectFase=function(b){a.selectedFase=a.fases[b]},a.endSelection=function(){return null!=a.selectedFase&&a.formula.fases.push(a.selectedFase),!0}}]),angular.module("spxApp").controller("OrdenesListCtrl",["$scope",function(a){a.ordenes=ordenes,a.remove=function(a){ordenes.splice(a,1)}}]),angular.module("spxApp").controller("OrdenesEditCtrl",["$scope","$routeParams","ngDialog",function(a,b,c){a.formulas=formulas,b.id?a.orden=ordenes[b.id]:a.orden={fecha:new Date,estado:"En progreso..."},a.update=function(c){b.id||ordenes.push(a.orden)},a.openSelectFormula=function(){a.selectedFormula={},c.open({template:"selectFormulaDialog",scope:a})},a.selectFormula=function(b){a.selectedFormula=a.formulas[b]},a.endSelection=function(){return a.orden.formula=a.selectedFormula,!0}}]),angular.module("spxApp").controller("FasesListCtrl",["$scope",function(a){a.fases=fases,a.remove=function(a){fases.splice(a,1)}}]),angular.module("spxApp").controller("FasesEditCtrl",["$scope","$routeParams","ngDialog",function(a,b,c){a.fases=fases,b.id?a.fase=fases[b.id]:a.fase={},a.update=function(c){b.id||fases.push(a.formula)}}]);